"use strict";(self.webpackChunkcelebration_calendar=self.webpackChunkcelebration_calendar||[]).push([[402],{4939:function(e,n,t){var a=t(1413),s=t(2791),i=t(3504),r=t(5248),l=t(184),o=(0,r.Z)("div")({name:"Wrapper",class:"w1qn7xxj"}),u=(0,r.Z)(i.rU)({name:"StyledButton",class:"szq9s8c"}),c=function(e){var n=!!e.to||!!e.href,t="submit"===e.type,s=n?i.rU:t?"button":"div";return(0,l.jsx)(o,{onClick:function(){},children:(0,l.jsx)(u,(0,a.Z)({as:s},e))})};n.Z=(0,s.memo)(c),t(9081)},9487:function(e,n,t){t.r(n),t.d(n,{default:function(){return te}});var a,s=t(5861),i=t(7757),r=t.n(i),l=t(2791),o=t(1084),u=t(6661),c=t(9053),d=t(5248),v=t(4939),p=t(1321),h=t(2982),f=t(885),m=t(408),x=new Uint8Array(16);function g(){if(!a&&!(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(x)}var j=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var b=function(e){return"string"===typeof e&&j.test(e)},y=[],Z=0;Z<256;++Z)y.push((Z+256).toString(16).substr(1));var C=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(y[e[n+0]]+y[e[n+1]]+y[e[n+2]]+y[e[n+3]]+"-"+y[e[n+4]]+y[e[n+5]]+"-"+y[e[n+6]]+y[e[n+7]]+"-"+y[e[n+8]]+y[e[n+9]]+"-"+y[e[n+10]]+y[e[n+11]]+y[e[n+12]]+y[e[n+13]]+y[e[n+14]]+y[e[n+15]]).toLowerCase();if(!b(t))throw TypeError("Stringified UUID is invalid");return t};var k=function(e,n,t){var a=(e=e||{}).random||(e.rng||g)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n){t=t||0;for(var s=0;s<16;++s)n[t+s]=a[s];return n}return C(a)},w=t(4490),S=t(184),D=function(e){var n;try{n=new URL(e)}catch(t){return!1}return"http:"===n.protocol||"https:"===n.protocol},I=(0,d.Z)("div")({name:"Instructions",class:"i1ekb68g"}),L=(0,d.Z)("div")({name:"ButtonWrapper",class:"bvn66f9"}),U=(0,d.Z)("div")({name:"Error",class:"e320bz1"}),E=(0,d.Z)("div")({name:"InputWrapper",class:"i151lpp7"}),R=(0,d.Z)("div")({name:"InputContainer",class:"ie6d4qj"}),M=(0,d.Z)("input")({name:"DateTimeInput",class:"ddgczyg"}),O=(0,d.Z)("textarea")({name:"TextArea",class:"t1q5rq0n"}),T=(0,d.Z)("input")({name:"TextInput",class:"t18exikk"}),A=(0,d.Z)("label")({name:"Label",class:"l1uuoyo9"}),N=(0,d.Z)("div")({name:"Wrapper",class:"w1a91lwz"}),q=(0,d.Z)(E)({name:"CheckboxWrapper",class:"cpobpl0"}),H=(0,d.Z)(A)({name:"CheckboxLabel",class:"c1rf7hfn"}),z=(0,d.Z)("input")({name:"Checkbox",class:"c1yus582"}),W=(0,d.Z)("span")({name:"CheckHint",class:"c1b7u1h0"}),V=function(e){var n=e.user,t=(0,l.useState)(""),a=(0,f.Z)(t,2),s=a[0],i=a[1],r=(0,l.useState)(""),c=(0,f.Z)(r,2),d=c[0],x=c[1],g=(0,l.useState)(""),j=(0,f.Z)(g,2),b=j[0],y=j[1],Z=(0,l.useState)(""),C=(0,f.Z)(Z,2),V=C[0],F=C[1],P=(0,l.useState)("My Events"),_=(0,f.Z)(P,2),B=_[0],$=_[1],Y=(0,l.useState)((new Date).toISOString().substring(0,16)),G=(0,f.Z)(Y,2),J=G[0],K=G[1],Q=(0,l.useState)((new Date).toISOString().substring(0,16)),X=(0,f.Z)(Q,2),ee=X[0],ne=X[1],te=(0,l.useState)(""),ae=(0,f.Z)(te,2),se=ae[0],ie=ae[1],re=(0,l.useState)(""),le=(0,f.Z)(re,2),oe=le[0],ue=le[1],ce=(0,l.useState)(""),de=(0,f.Z)(ce,2),ve=de[0],pe=de[1],he=(0,l.useState)(!0),fe=(0,f.Z)(he,2),me=fe[0],xe=fe[1],ge=(0,o.Wz)(),je=(0,l.useMemo)((function(){return(0,m.iH)(ge,"user-events/".concat(null===n||void 0===n?void 0:n.uid))}),[ge,n]),be=(0,l.useMemo)((function(){return(0,m.iH)(ge,"custom-events/".concat(null===n||void 0===n?void 0:n.uid))}),[ge,n]),ye=(0,o.gN)(je,{}),Ze=(0,o.gN)(be,{}),Ce=(0,l.useMemo)((function(){return"success"===(null===ye||void 0===ye?void 0:ye.status)&&null!==ye&&void 0!==ye&&ye.data&&"success"===(null===Ze||void 0===Ze?void 0:Ze.status)&&null!==Ze&&void 0!==Ze&&Ze.data&&(null!==ye&&void 0!==ye&&ye.data||null!==Ze&&void 0!==Ze&&Ze.data)?[].concat((0,h.Z)(Object.values(ye.data)),(0,h.Z)(Object.values(Ze.data))).sort((function(e,n){var t=new Date(e.startDate),a=new Date(n.startDate),s=new Date(e.endDate),i=new Date(n.endDate);return t>a?1:t<a?-1:s>i?1:s<i?-1:e.summary>n.summary?1:e.summary<n.summary?-1:0})):null}),[Ze.data,null===Ze||void 0===Ze?void 0:Ze.status,ye.data,null===ye||void 0===ye?void 0:ye.status]),ke=(0,l.useCallback)((function(e){if(e.id)if(e.private){var t=(0,m.iH)(ge,"custom-events/".concat(null===n||void 0===n?void 0:n.uid,"/").concat(e.id));(0,m.t8)(t,null)}else{var a=(0,m.iH)(ge,"user-events/".concat(null===n||void 0===n?void 0:n.uid,"/").concat(e.id));(0,m.t8)(a,null)}else e.id=k();if(e.private){var s=(0,m.iH)(ge,"user-events/".concat(null===n||void 0===n?void 0:n.uid,"/").concat(e.id));(0,m.t8)(s,e)}else{var i=(0,m.iH)(ge,"custom-events/".concat(null===n||void 0===n?void 0:n.uid,"/").concat(e.id));(0,m.t8)(i,e)}}),[ge,null===n||void 0===n?void 0:n.uid]),we=(0,l.useCallback)((function(){x(""),y(""),F(""),$("My Events"),K((new Date).toISOString().substring(0,16)),ne((new Date).toISOString().substring(0,16)),ie(""),ue(""),pe(""),xe(!0),i("")}),[]),Se=(0,l.useCallback)((function(e){var n=e.target.value;y(n),i(n?null:"Missing title")}),[]),De=(0,l.useCallback)((function(e){var n=e.target.value;F(n)}),[]),Ie=(0,l.useCallback)((function(e){var n=e.target.value;$(n),i(n?null:"Missing venue")}),[]),Le=(0,l.useCallback)((function(e){var n=e.target.value;K(n),i(n?null:"Missing start time")}),[]),Ue=(0,l.useCallback)((function(e){var n=e.target.value;ne(n),i(n?null:"Missing end time")}),[]),Ee=(0,l.useCallback)((function(e){var n=e.target.value;D(n)?(i(null),ie(n)):i("Invalid event URL")}),[]),Re=(0,l.useCallback)((function(e){var n=e.target.value;ue(n)}),[]),Me=(0,l.useCallback)((function(e){var n=e.target.value;D(n)?(i(null),pe(n)):i("Invalid image URL")}),[]),Oe=(0,l.useCallback)((function(e){var n=e.target.checked;xe(n)}),[]);(0,l.useEffect)((function(){$(me?"My Events":"Public Events")}),[me]);var Te=(0,l.useCallback)((function(){if(!s)if(b)if(B)if(J)if(ee)if(!se||D(se))if(!ve||D(ve)){var e={id:d,summary:b,description:null!==V&&void 0!==V?V:null,venue:B,timezoneStartAt:"America/Los_Angeles",startDate:J,endDate:ee,startAt:new Date(J).toISOString(),endAt:new Date(ee).toISOString(),color:"var(--linkHover)",url:null!==se&&void 0!==se?se:null,address:null!==oe&&void 0!==oe?oe:null,imageUrl:null!==ve&&void 0!==ve?ve:null,type:"userEvent",private:me,creator:null===n||void 0===n?void 0:n.uid};ke(e),we(),u.j(p.Z.AddOrEditCustomEvent)}else i("Invalid image URL");else i("Invalid event URL");else i("Missing end time");else i("Missing start time");else i("Missing venue");else i("Missing title")}),[ke,oe,V,ee,s,we,d,ve,me,J,b,se,null===n||void 0===n?void 0:n.uid,B]),Ae=(0,l.useCallback)((function(e){x(e.id),y(e.summary),F(e.description),$(e.venue),K(e.startDate),ne(e.endDate),ie(e.url),ue(e.address),pe(e.imageUrl),xe(e.private),u.j(p.Z.EditCustomEvent)}),[]);return(0,S.jsxs)(N,{children:[(0,S.jsx)(I,{children:"Custom events are private and not visible to other users."}),s&&(0,S.jsx)(U,{children:s}),!1,(0,S.jsxs)(E,{children:[(0,S.jsx)(A,{children:"Title*:"}),(0,S.jsx)(R,{children:(0,S.jsx)(T,{type:"text",placeholder:"Event title",onChange:Se,value:b})})]}),(0,S.jsxs)(q,{children:[(0,S.jsx)(H,{children:"Is this event only for you?:"}),(0,S.jsx)(z,{type:"checkbox",onChange:Oe,checked:me}),(0,S.jsx)(W,{children:me?"Yes, this is private":"No, I want this to be public"})]}),(0,S.jsxs)(E,{children:[(0,S.jsx)(A,{children:"Description:"}),(0,S.jsx)(R,{children:(0,S.jsx)(O,{type:"text",placeholder:"Event description",onChange:De,value:V})})]}),(0,S.jsxs)(E,{children:[(0,S.jsx)(A,{children:"Venue*:"}),(0,S.jsx)(R,{children:(0,S.jsx)(T,{disabled:me?"":"disabled",readOnly:me?"":"readonly",type:"text",placeholder:"Event venue",onChange:Ie,value:B})})]}),(0,S.jsxs)(E,{children:[(0,S.jsx)(A,{children:"Start Time*:"}),(0,S.jsx)(R,{children:(0,S.jsx)(M,{type:"datetime-local",min:"2022-05-21T12:00",max:"2022-05-31T12:00",step:"300",onChange:Le,value:J})})]}),(0,S.jsxs)(E,{children:[(0,S.jsx)(A,{children:"End Time*:"}),(0,S.jsx)(R,{children:(0,S.jsx)(M,{type:"datetime-local",min:"2022-05-21T12:00",max:"2022-05-31T12:00",step:"300",onChange:Ue,value:ee})})]}),(0,S.jsxs)(E,{children:[(0,S.jsx)(A,{children:"URL:"}),(0,S.jsx)(R,{children:(0,S.jsx)(T,{type:"text",placeholder:"URL with event info (e.g. https://starwars.com)",onChange:Ee,value:se})})]}),(0,S.jsxs)(E,{children:[(0,S.jsx)(A,{children:"Physical Address:"}),(0,S.jsx)(R,{children:(0,S.jsx)(O,{type:"textarea",placeholder:"Address of the venue",onChange:Re,value:oe})})]}),(0,S.jsxs)(E,{children:[(0,S.jsx)(A,{children:"Image URL:"}),(0,S.jsx)(R,{children:(0,S.jsx)(T,{type:"text",placeholder:"Image URL to display (e.g. https://starwars.com/cool.png)",onChange:Me,value:ve})})]}),(0,S.jsxs)(L,{children:[(0,S.jsx)(v.Z,{as:"button",disabled:!!s,onClick:Te,children:"Save Event"}),(0,S.jsx)(v.Z,{as:"button",onClick:we,children:"Clear Form"})]}),(0,S.jsx)("div",{children:Ce&&Object.values(Ce).map((function(e){return(0,S.jsx)(w.Z,{event:e,onEdit:Ae,forceOpen:!0},e.id)}))})]})},F=(0,l.memo)(V);t(6167);var P=(0,d.Z)("hr")({name:"Divider",class:"dixwx17"}),_=(0,d.Z)("div")({name:"Wrapper",class:"wzfou7k"}),B=(0,d.Z)("div")({name:"Username",class:"u1qme51q"}),$=(0,d.Z)("i")({name:"PhoneIcon",class:"p1n7hmeg"}),Y=(0,d.Z)("div")({name:"PhoneNumber",class:"p1ikq4y4"}),G=(0,d.Z)("img")({name:"Avatar",class:"avbunth"}),J=function(e){var n=e.user,t=(0,o.aC)(),a=(0,l.useCallback)((function(){t.signOut().then((function(){u.j(p.Z.LogOut),console.log("signed out")}))}),[t]),s=(0,l.useMemo)((function(){var e;return null===n||void 0===n||null===(e=n.providerData[0])||void 0===e?void 0:e.providerId}),[null===n||void 0===n?void 0:n.providerData]),i=(0,l.useMemo)((function(){var e;return(null===n||void 0===n||null===(e=n.providerData[0])||void 0===e?void 0:e.photoURL)||(null===n||void 0===n?void 0:n.photoURL)}),[null===n||void 0===n?void 0:n.photoURL,null===n||void 0===n?void 0:n.providerData]);return(0,S.jsxs)(_,{children:["phone"===s?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)($,{className:"fa-solid fa-mobile-screen-button fa-beat"}),(0,S.jsx)(Y,{children:n.providerData[0].phoneNumber})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(B,{children:n.displayName}),(0,S.jsx)(G,{className:"fa-beat",src:i,alt:"pfp"})]}),(0,S.jsx)("div",{children:(0,S.jsx)(v.Z,{onClick:a,children:"Logout"})}),(0,S.jsx)(P,{}),(0,S.jsx)(F,{user:n})]})},K=(0,l.memo)(J);t(4888);var Q=t(8923),X=function(){var e=(0,s.Z)(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.j(p.Z.LogIn),t=new c.c4,e.next=4,(0,c.rh)(n,t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ee=function(){var e=(0,s.Z)(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new c.lI("recaptcha-container",{callback:function(e){console.log({response:e}),(0,c.$g)(n,"+13176040325",t).then((function(e){console.log({confirmationResult:e}),e.confirm("123456").then((function(e){console.log({result:e})})).catch((function(e){console.log({error:e})}))})).catch((function(e){console.log({e:e})}))}},n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ne=function(){var e=(0,o.TS)(),n=e.status,t=e.data,a=(0,o.aC)(),i=(0,o.aF)().data;(0,l.useCallback)((0,s.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(a);case 2:case"end":return e.stop()}}),e)}))),[a]);return"loading"===n?(0,S.jsx)(Q.Z,{}):!0===t.signedIn?(0,S.jsx)(K,{user:i}):(0,S.jsxs)("div",{children:[(0,S.jsxs)(v.Z,{onClick:function(){return X(a)},children:["Login with Twitter\xa0",(0,S.jsx)("i",{className:"fa-brands fa-twitter"})]}),!1,(0,S.jsx)("div",{id:"recaptcha-container"})]})},te=(0,l.memo)(ne)},9081:function(e,n,t){t.r(n),n.default={}},6167:function(e,n,t){t.r(n),n.default={}},4888:function(e,n,t){t.r(n),n.default={}}}]);
//# sourceMappingURL=402.22295038.chunk.js.map