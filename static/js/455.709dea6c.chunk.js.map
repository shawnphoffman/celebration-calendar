{"version":3,"file":"static/js/455.709dea6c.chunk.js","mappings":"uSAUaA,GAAM,eAAAC,KAAAA,SAAAC,MAAAA,UAAAC,KAAAA,CAAA,aACTC,SAAAA,GAAC,OAAKA,EAAEC,OAAS,eAAiB,mBADzB,aAORD,SAAAA,GAAC,OAAKA,EAAEC,OAAS,eAAiB,wBAIvCC,EAAc,WACnB,OAA4BC,EAAAA,EAAAA,WAAS,GAArC,eAAOF,EAAP,KAAeG,EAAf,KACA,GAA4CC,EAAAA,EAAAA,MAApCC,EAAR,EAAQA,OAAcC,EAAtB,EAAgBC,KACFC,GAASC,EAAAA,EAAAA,MAAfF,KAIFG,GAAMC,EAAAA,EAAAA,UAAQ,kBAAOH,EAAOA,EAAKE,IAAM,OAAO,CAACF,IAE/CI,GAAMD,EAAAA,EAAAA,UAAQ,kBAAQD,EAAD,UAAiBG,OAAOC,SAASC,OAAjC,cAA4CC,EAAAA,EAAAA,IAAaC,EAAAA,GAAAA,cAAAA,KAA2B,CAAEP,IAAAA,KAA/E,OAA0F,CAACA,IAEvHQ,GAAUC,EAAAA,EAAAA,cACfC,SAAAA,GACCA,EAAEC,kBACFC,GAAAA,CAAKV,GACLT,GAAU,GACVoB,EAAAA,EAAgBC,EAAAA,EAAAA,uBAEjB,CAACZ,IAaF,OAVAa,EAAAA,EAAAA,YAAU,WACT,IAAIC,EAAI,aAMR,OALI1B,IACH0B,EAAIC,YAAW,WACdxB,GAAU,KACR,MAEG,kBAAMuB,KACX,CAAC1B,IAEW,YAAXK,GAAwB,OAACC,QAAD,IAACA,GAAAA,EAAmBsB,UAAalB,GAK5D,SAACf,EAAD,CAAQK,OAAQA,EAAsC6B,eAAgBX,EAASY,MAAM,qBAArF,SACE9B,GAAS,cAAG+B,UAAU,8CAAkD,cAAGA,UAAU,2BADvF,eAAqCrB,EAArC,YAA4CV,IAJrC,MAUT,GAAegC,EAAAA,EAAAA,MAAK/B,G,mDCnDdgC,GAAW,eAAArC,KAAAA,cAAAC,MAAAA,aASXqC,GAAS,eAAAtC,KAAAA,YAAAC,MAAAA,YAUTsC,GAAS,eAAAvC,KAAAA,YAAAC,MAAAA,aAOTuC,GAAW,eAAAxC,KAAAA,cAAAC,MAAAA,aAGXwC,GAAI,OAAUC,EAAAA,GAAV,EAAA1C,KAAAA,OAAAC,MAAAA,aAUJ0C,EAAY,WACjB,OAAgBC,EAAAA,EAAAA,MAATC,GAAP,eACmBC,GAAQC,EAAAA,EAAAA,KAAnBC,UACR,GAA4CxC,EAAAA,EAAAA,MAApCC,EAAR,EAAQA,OAAcC,EAAtB,EAAgBC,KAEVsC,GAAelC,EAAAA,EAAAA,UAAQ,WAC5B,QAAS+B,EAAII,SACX,CAACJ,IAEEK,GAAkBpC,EAAAA,EAAAA,UAAQ,WAC/B,MAAkB,YAAXN,KAAwB,OAACC,QAAD,IAACA,GAAAA,EAAmBsB,YACjD,CAACvB,EAAQC,IAENsC,GAAYjC,EAAAA,EAAAA,UAAQ,WACzB,OAAI,OAAC8B,QAAD,IAACA,GAAAA,EAAOO,UACLP,EAAMO,UAAUC,QAAO7B,SAAAA,GAC7B,OAAOsB,EAAIQ,SAAS9B,EAAE+B,OAFO,KAI5B,CAACT,EAAKD,EAAMO,YAEf,OACC,UAACd,EAAD,YACC,UAAC,KAAD,qCACuB,SAAC,EAAD,OAEtBa,IACA,+BACC,UAACX,EAAD,sBACQ,SAACC,EAAD,CAAMe,GAAInC,EAAAA,GAAAA,MAAAA,KAAV,oBADR,yDAKF,UAACkB,EAAD,YACGU,IAAgB,SAACZ,EAAD,yCACjBW,EAAUS,KAAIC,SAAAA,GAAK,OACnB,SAACC,EAAA,EAAD,CAAeD,MAAOA,EAAsBE,WAA5C,GAAkCF,EAAMH,cAO7C,GAAenB,EAAAA,EAAAA,MAAKO,G,oCC5FpB,c,2BCAA","sources":["components/events/CopyUrlIcon.js","pages/UserFavorites.js","webpack://celebration-calendar/./src/components/events/CopyUrlIcon.js?2799","webpack://celebration-calendar/./src/pages/UserFavorites.js?1889"],"sourcesContent":["import { memo, useCallback, useEffect, useMemo, useState } from 'react'\nimport { generatePath } from 'react-router-dom'\nimport { useSigninCheck, useUser } from 'reactfire'\nimport { styled } from '@linaria/react'\nimport * as Panelbear from '@panelbear/panelbear-js'\nimport copy from 'copy-to-clipboard'\n\nimport Routes from 'config/routes'\nimport Event from 'utils/events'\n\nexport const Button = styled.div`\n\tcolor: ${p => (p.copied ? 'var(--green)' : 'var(--linkAlt)')};\n\ttransition: all 0.5s;\n\tcursor: pointer;\n\tmargin-left: 8px;\n\n\t&:hover {\n\t\tcolor: ${p => (p.copied ? 'var(--green)' : 'var(--linkHover)')};\n\t}\n`\n\nconst CopyUrlIcon = () => {\n\tconst [copied, setCopied] = useState(false)\n\tconst { status, data: signInCheckResult } = useSigninCheck()\n\tconst { data: user } = useUser()\n\n\t// console.log('ICON', { status, signInCheckResult, user })\n\n\tconst uid = useMemo(() => (user ? user.uid : null), [user])\n\n\tconst url = useMemo(() => (!uid ? null : `${window.location.origin}/#${generatePath(Routes.FavoritesList.path, { uid })}`), [uid])\n\n\tconst logCopy = useCallback(\n\t\te => {\n\t\t\te.stopPropagation()\n\t\t\tcopy(url)\n\t\t\tsetCopied(true)\n\t\t\tPanelbear.track(Event.FavoritesLinkCopied)\n\t\t},\n\t\t[url]\n\t)\n\n\tuseEffect(() => {\n\t\tlet t = () => {}\n\t\tif (copied) {\n\t\t\tt = setTimeout(() => {\n\t\t\t\tsetCopied(false)\n\t\t\t}, 3000)\n\t\t}\n\t\treturn () => t\n\t}, [copied])\n\n\tif (status !== 'success' || !signInCheckResult?.signedIn || !uid) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<Button copied={copied} key={`link-${uid}-${copied}`} onClickCapture={logCopy} title=\"Copy Link to Share\">\n\t\t\t{copied ? <i className=\"fa-light fa-clipboard-check fa-beat-fade\"></i> : <i className=\"fa-light fa-clipboard\"></i>}\n\t\t</Button>\n\t)\n}\n\nexport default memo(CopyUrlIcon)\n","import { memo, useMemo } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { useSigninCheck } from 'reactfire'\nimport { styled } from 'linaria/react'\n\nimport CopyUrlIcon from 'components/events/CopyUrlIcon'\nimport EventListItem from 'components/events/EventListItem'\nimport { PageTitle } from 'components/styles'\nimport Routes from 'config/routes'\nimport { useEventContext } from 'context/EventContext'\nimport { useFavoritesContext } from 'context/FavoritesContext'\n\nconst NoFavorites = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tflex: 0;\n\tmargin-top: 16px;\n\tfont-weight: bold;\n`\n\nconst Container = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\toverflow-x: hidden;\n\tbackground: var(--bg);\n\tborder-radius: 8px;\n\tflex-direction: column;\n\talign-items: center;\n`\nconst ScrollBox = styled.div`\n\twidth: 100%;\n\toverflow-y: scroll;\n\t::-webkit-scrollbar-corner {\n\t\tbackground: var(--transparent);\n\t}\n`\nconst LoginPrompt = styled.div`\n\tmargin-bottom: 8px;\n`\nconst Link = styled(NavLink)`\n\tcolor: var(--linkAlt);\n\tfont-weight: bold;\n\ttext-decoration: none;\n\n\t&:hover {\n\t\tcolor: var(--linkHover);\n\t}\n`\n\nconst Favorites = () => {\n\tconst [state] = useEventContext()\n\tconst { favorites: ids } = useFavoritesContext()\n\tconst { status, data: signInCheckResult } = useSigninCheck()\n\n\tconst hasFavorites = useMemo(() => {\n\t\treturn !!ids.length\n\t}, [ids])\n\n\tconst showLoginPrompt = useMemo(() => {\n\t\treturn status === 'success' && !signInCheckResult?.signedIn\n\t}, [status, signInCheckResult])\n\n\tconst favorites = useMemo(() => {\n\t\tif (!state?.allEvents) return []\n\t\treturn state.allEvents.filter(e => {\n\t\t\treturn ids.includes(e.id)\n\t\t})\n\t}, [ids, state.allEvents])\n\n\treturn (\n\t\t<Container>\n\t\t\t<PageTitle>\n\t\t\t\tYour Favorited Events <CopyUrlIcon />\n\t\t\t</PageTitle>\n\t\t\t{showLoginPrompt && (\n\t\t\t\t<>\n\t\t\t\t\t<LoginPrompt>\n\t\t\t\t\t\tIf you <Link to={Routes.Login.path}>log in</Link>, we'll save your favorites across your devices!\n\t\t\t\t\t</LoginPrompt>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t<ScrollBox>\n\t\t\t\t{!hasFavorites && <NoFavorites>No favorites to display...</NoFavorites>}\n\t\t\t\t{favorites.map(event => (\n\t\t\t\t\t<EventListItem event={event} key={event.id} forceOpen />\n\t\t\t\t))}\n\t\t\t</ScrollBox>\n\t\t</Container>\n\t)\n}\n\nexport default memo(Favorites)\n","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["Button","name","class","vars","p","copied","CopyUrlIcon","useState","setCopied","useSigninCheck","status","signInCheckResult","data","user","useUser","uid","useMemo","url","window","location","origin","generatePath","Routes","logCopy","useCallback","e","stopPropagation","copy","Panelbear","Event","useEffect","t","setTimeout","signedIn","onClickCapture","title","className","memo","NoFavorites","Container","ScrollBox","LoginPrompt","Link","NavLink","Favorites","useEventContext","state","ids","useFavoritesContext","favorites","hasFavorites","length","showLoginPrompt","allEvents","filter","includes","id","to","map","event","EventListItem","forceOpen"],"sourceRoot":""}