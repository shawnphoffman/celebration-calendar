{"version":3,"file":"static/js/603.7cb25c3f.chunk.js","mappings":"qNAQMA,GAAgBC,EAAAA,EAAAA,iBAETC,EAIC,cAGRC,EAAsB,CAC3BC,WAAY,GACZC,WAAY,IAKPC,EAAU,SAACC,EAAOC,GACvB,OAAQA,EAAOC,OACTP,EAEAK,EAAMH,WAAWM,OAAS,EACtBH,GAED,kBACHA,GADJ,IAECH,WAAYI,EAAOG,QACnBN,WAAYG,EAAOI,gBAGbL,GAIJM,EAAiB,SAAC,GAAiB,IAAfC,EAAe,EAAfA,SACzB,GAA0BC,EAAAA,EAAAA,YAAWT,EAASH,GAA9C,eAAOI,EAAP,KAAcS,EAAd,KAsBA,OApBAC,EAAAA,EAAAA,YAAU,WACTC,MAAMC,gIACJC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACL,OAAmCC,EAAAA,EAAAA,IAAkBD,GAA7CZ,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,cACjBI,EAAS,CAAEP,KAAMP,EAA0BS,QAAAA,EAASC,cAAAA,OAEpDa,OAAM,SAAAC,GAEN,mCAA+BN,MAAK,SAAAO,GACnC,OAAmCH,EAAAA,EAAAA,IAAkBG,GAA7ChB,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,cACjBI,EAAS,CAAEP,KAAMP,EAA0BS,QAAAA,EAASC,cAAAA,YAGrD,KAMI,SAACZ,EAAc4B,SAAf,CAAwBC,MAAO,CAACtB,EAAOS,GAAvC,SAAmDF,KAG9CgB,EAAmB,kBAAMC,EAAAA,EAAAA,YAAW/B,IAEjD,MAAegC,EAAAA,EAAAA,MAAKnB,I,4DC/DdoB,GAAaC,EAAAA,EAAAA,OAAK,kBAAM,yDAExBC,EAAU,WACf,OACC,SAAC,KAAD,WAEC,SAACF,EAAD,OAKH,WAAeD,EAAAA,EAAAA,MAAKG","sources":["context/VendorContext.js","pages/Vendors.js"],"sourcesContent":["import React, { createContext, memo, useContext, useEffect, useReducer } from 'react'\n\n// import * as Panelbear from '@panelbear/panelbear-js'\n// import Vendor from 'utils/events'\nimport { processApiVendors } from 'utils/dataUtils'\n\n// const disabledVenueStorageKey = 'SWC.DisabledVenues.2'\n\nconst VendorContext = createContext()\n\nexport const VendorAction = {\n\t// TOGGLE_VENUE: 'TOGGLE_VENUE',\n\t// ALL_VENUES_ON: 'ALL_VENUES_ON',\n\t// ALL_VENUES_OFF: 'ALL_VENUES_OFF',\n\tSET_VENDORS: 'SET_VENDORS',\n}\n\nconst initialReducerState = {\n\tallVendors: [],\n\tallTattoos: [],\n\t// allVenues: [],\n\t// disabledVenues: JSON.parse(localStorage.getItem(disabledVenueStorageKey)),\n}\n\nconst reducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase VendorAction.SET_VENDORS:\n\t\t\t// Don't set it multiple times\n\t\t\tif (state.allVendors.length > 0) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tallVendors: action.vendors,\n\t\t\t\tallTattoos: action.tattooArtists,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nconst VendorProvider = ({ children }) => {\n\tconst [state, dispatch] = useReducer(reducer, initialReducerState)\n\n\tuseEffect(() => {\n\t\tfetch(process.env.REACT_APP_VENDOR_ENDPOINT)\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tconst { vendors, tattooArtists } = processApiVendors(data)\n\t\t\t\tdispatch({ type: VendorAction.SET_VENDORS, vendors, tattooArtists })\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\t// Panelbear.track(Vendor.FetchFailure)\n\t\t\t\timport('../data/vendors.json').then(rawVendors => {\n\t\t\t\t\tconst { vendors, tattooArtists } = processApiVendors(rawVendors)\n\t\t\t\t\tdispatch({ type: VendorAction.SET_VENDORS, vendors, tattooArtists })\n\t\t\t\t})\n\t\t\t})\n\t}, [])\n\n\t// useEffect(() => {\n\t// \tlocalStorage.setItem(disabledVenueStorageKey, JSON.stringify(state.disabledVenues))\n\t// }, [state.disabledVenues])\n\n\treturn <VendorContext.Provider value={[state, dispatch]}>{children}</VendorContext.Provider>\n}\n\nexport const useVendorContext = () => useContext(VendorContext)\n\nexport default memo(VendorProvider)\n","import { lazy, memo } from 'react'\n\nimport VendorProvider from 'context/VendorContext'\n\n// import Agenda from 'components/v2/Agenda'\n\nconst VendorList = lazy(() => import('components/vendors/VendorList'))\n\nconst Vendors = () => {\n\treturn (\n\t\t<VendorProvider>\n\t\t\t{/* <Filters /> */}\n\t\t\t<VendorList />\n\t\t</VendorProvider>\n\t)\n}\n\nexport default memo(Vendors)\n"],"names":["VendorContext","createContext","VendorAction","initialReducerState","allVendors","allTattoos","reducer","state","action","type","length","vendors","tattooArtists","VendorProvider","children","useReducer","dispatch","useEffect","fetch","process","then","res","json","data","processApiVendors","catch","e","rawVendors","Provider","value","useVendorContext","useContext","memo","VendorList","lazy","Vendors"],"sourceRoot":""}