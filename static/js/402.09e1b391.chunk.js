"use strict";(self.webpackChunkcelebration_calendar=self.webpackChunkcelebration_calendar||[]).push([[402],{4939:function(e,n,t){var a=t(1413),r=t(2791),s=t(3504),i=t(5248),l=t(184),o=(0,i.Z)("div")({name:"Wrapper",class:"w1qn7xxj"}),u=(0,i.Z)(s.rU)({name:"StyledButton",class:"szq9s8c"}),c=function(e){var n=!!e.to||!!e.href,t="submit"===e.type,r=n?s.rU:t?"button":"div";return(0,l.jsx)(o,{onClick:function(){},children:(0,l.jsx)(u,(0,a.Z)({as:r},e))})};n.Z=(0,r.memo)(c),t(9081)},9487:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var a,r=t(5861),s=t(7757),i=t.n(s),l=t(2791),o=t(1084),u=t(6661),c=t(9053),d=t(5248),v=t(4939),p=t(1321),f=t(885),m=t(408),h=new Uint8Array(16);function g(){if(!a&&!(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(h)}var x=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var j=function(e){return"string"===typeof e&&x.test(e)},b=[],y=0;y<256;++y)b.push((y+256).toString(16).substr(1));var Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(b[e[n+0]]+b[e[n+1]]+b[e[n+2]]+b[e[n+3]]+"-"+b[e[n+4]]+b[e[n+5]]+"-"+b[e[n+6]]+b[e[n+7]]+"-"+b[e[n+8]]+b[e[n+9]]+"-"+b[e[n+10]]+b[e[n+11]]+b[e[n+12]]+b[e[n+13]]+b[e[n+14]]+b[e[n+15]]).toLowerCase();if(!j(t))throw TypeError("Stringified UUID is invalid");return t};var C=function(e,n,t){var a=(e=e||{}).random||(e.rng||g)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n){t=t||0;for(var r=0;r<16;++r)n[t+r]=a[r];return n}return Z(a)},w=t(4490),k=t(184),S=(0,d.Z)("div")({name:"Instructions",class:"i1ekb68g"}),D=(0,d.Z)("div")({name:"ButtonWrapper",class:"bvn66f9"}),I=function(e){var n;try{n=new URL(e)}catch(t){return!1}return"http:"===n.protocol||"https:"===n.protocol},U=(0,d.Z)("div")({name:"Error",class:"e320bz1"}),L=(0,d.Z)("div")({name:"InputWrapper",class:"i151lpp7"}),R=(0,d.Z)("div")({name:"InputContainer",class:"ie6d4qj"}),E=(0,d.Z)("input")({name:"DateTimeInput",class:"ddgczyg"}),M=(0,d.Z)("textarea")({name:"TextArea",class:"t1q5rq0n"}),T=(0,d.Z)("input")({name:"TextInput",class:"t18exikk"}),O=(0,d.Z)("label")({name:"Label",class:"l1uuoyo9"}),A=(0,d.Z)("div")({name:"Wrapper",class:"w1a91lwz"}),q=function(e){var n=e.user,t=(0,l.useState)(""),a=(0,f.Z)(t,2),r=a[0],s=a[1],i=(0,l.useState)(C()),c=(0,f.Z)(i,2),d=c[0],h=c[1],g=(0,l.useState)(""),x=(0,f.Z)(g,2),j=x[0],b=x[1],y=(0,l.useState)(""),Z=(0,f.Z)(y,2),q=Z[0],z=Z[1],N=(0,l.useState)("My Events"),V=(0,f.Z)(N,2),W=V[0],F=V[1],H=(0,l.useState)((new Date).toISOString().substring(0,16)),P=(0,f.Z)(H,2),_=P[0],B=P[1],$=(0,l.useState)((new Date).toISOString().substring(0,16)),G=(0,f.Z)($,2),J=G[0],K=G[1],Q=(0,l.useState)(""),X=(0,f.Z)(Q,2),Y=X[0],ee=X[1],ne=(0,l.useState)(""),te=(0,f.Z)(ne,2),ae=te[0],re=te[1],se=(0,l.useState)(""),ie=(0,f.Z)(se,2),le=ie[0],oe=ie[1],ue=(0,o.Wz)(),ce=(0,l.useMemo)((function(){return(0,m.iH)(ue,"user-events/".concat(null===n||void 0===n?void 0:n.uid))}),[ue,n]),de=(0,o.gN)(ce,{}),ve=(0,l.useMemo)((function(){return"success"===(null===de||void 0===de?void 0:de.status)&&null!==de&&void 0!==de&&de.data&&null!==de&&void 0!==de&&de.data?Object.values(de.data).sort((function(e,n){var t=new Date(e.startDate),a=new Date(n.startDate),r=new Date(e.endDate),s=new Date(n.endDate);return t>a?1:t<a?-1:r>s?1:r<s?-1:e.summary>n.summary?1:e.summary<n.summary?-1:0})):null}),[null===de||void 0===de?void 0:de.data,null===de||void 0===de?void 0:de.status]),pe=(0,l.useCallback)((function(e,t){var a=(0,m.iH)(ue,"user-events/".concat(null===n||void 0===n?void 0:n.uid,"/").concat(e));(0,m.t8)(a,t)}),[ue,null===n||void 0===n?void 0:n.uid]),fe=(0,l.useCallback)((function(){console.log(),h(C()),b(""),z(""),F("My Events"),B((new Date).toISOString().substring(0,16)),K((new Date).toISOString().substring(0,16)),ee(""),re(""),oe(""),s("")}),[]),me=(0,l.useCallback)((function(e){var n=e.target.value;b(n),s(n?null:"Missing title")}),[]),he=(0,l.useCallback)((function(e){var n=e.target.value;z(n)}),[]),ge=(0,l.useCallback)((function(e){var n=e.target.value;F(n),s(n?null:"Missing venue")}),[]),xe=(0,l.useCallback)((function(e){var n=e.target.value;console.log({value:n}),B(n),s(n?null:"Missing start time")}),[]),je=(0,l.useCallback)((function(e){var n=e.target.value;K(n),s(n?null:"Missing end time")}),[]),be=(0,l.useCallback)((function(e){var n=e.target.value;I(n)?(s(null),ee(n)):s("Invalid event URL")}),[]),ye=(0,l.useCallback)((function(e){var n=e.target.value;re(n)}),[]),Ze=(0,l.useCallback)((function(e){var n=e.target.value;I(n)?(s(null),oe(n)):s("Invalid image URL")}),[]),Ce=(0,l.useCallback)((function(){if(!r)if(j)if(W)if(_)if(J)if(!Y||I(Y))if(!le||I(le)){var e={id:d,summary:j,description:null!==q&&void 0!==q?q:null,venue:W,timezoneStartAt:"America/Los_Angeles",startDate:_,endDate:J,startAt:new Date(_).toISOString(),endAt:new Date(J).toISOString(),color:"var(--linkHover)",url:null!==Y&&void 0!==Y?Y:null,address:null!==ae&&void 0!==ae?ae:null,imageUrl:null!==le&&void 0!==le?le:null,type:"userEvent",private:!0};pe(e.id,e),fe(),u.j(p.Z.AddOrEditCustomEvent)}else s("Invalid image URL");else s("Invalid event URL");else s("Missing end time");else s("Missing start time");else s("Missing venue");else s("Missing title")}),[pe,ae,q,J,r,fe,d,le,_,j,Y,W]),we=(0,l.useCallback)((function(e){h(e.id),b(e.summary),z(e.description),F(e.venue),B(e.startDate),K(e.endDate),ee(e.url),re(e.address),oe(e.imageUrl),u.j(p.Z.EditCustomEvent)}),[]);return(0,k.jsxs)(A,{children:[(0,k.jsx)(S,{children:"Custom events are private and not visible to other users."}),r&&(0,k.jsx)(U,{children:r}),!1,(0,k.jsxs)(L,{children:[(0,k.jsx)(O,{children:"Title*:"}),(0,k.jsx)(R,{children:(0,k.jsx)(T,{type:"text",placeholder:"Event title",onChange:me,value:j})})]}),(0,k.jsxs)(L,{children:[(0,k.jsx)(O,{children:"Description:"}),(0,k.jsx)(R,{children:(0,k.jsx)(M,{type:"text",placeholder:"Event description",onChange:he,value:q})})]}),(0,k.jsxs)(L,{children:[(0,k.jsx)(O,{children:"Venue*:"}),(0,k.jsx)(R,{children:(0,k.jsx)(T,{type:"text",placeholder:"Event venue",onChange:ge,value:W})})]}),(0,k.jsxs)(L,{children:[(0,k.jsx)(O,{children:"Start Time*:"}),(0,k.jsx)(R,{children:(0,k.jsx)(E,{type:"datetime-local",min:"2022-05-21T12:00",max:"2022-05-31T12:00",step:"300",onChange:xe,value:_})})]}),(0,k.jsxs)(L,{children:[(0,k.jsx)(O,{children:"End Time*:"}),(0,k.jsx)(R,{children:(0,k.jsx)(E,{type:"datetime-local",min:"2022-05-21T12:00",max:"2022-05-31T12:00",step:"300",onChange:je,value:J})})]}),(0,k.jsxs)(L,{children:[(0,k.jsx)(O,{children:"URL:"}),(0,k.jsx)(R,{children:(0,k.jsx)(T,{type:"text",placeholder:"URL with event info (e.g. https://starwars.com)",onChange:be,value:Y})})]}),(0,k.jsxs)(L,{children:[(0,k.jsx)(O,{children:"Physical Address:"}),(0,k.jsx)(R,{children:(0,k.jsx)(M,{type:"textarea",placeholder:"Address of the venue",onChange:ye,value:ae})})]}),(0,k.jsxs)(L,{children:[(0,k.jsx)(O,{children:"Image URL:"}),(0,k.jsx)(R,{children:(0,k.jsx)(T,{type:"text",placeholder:"Image URL to display (e.g. https://starwars.com/cool.png)",onChange:Ze,value:le})})]}),(0,k.jsxs)(D,{children:[(0,k.jsx)(v.Z,{as:"button",disabled:!!r,onClick:Ce,children:"Save Event"}),(0,k.jsx)(v.Z,{as:"button",onClick:fe,children:"Clear Form"})]}),(0,k.jsx)("div",{children:ve&&Object.values(ve).map((function(e){return(0,k.jsx)(w.Z,{event:e,onEdit:we,forceOpen:!0},e.id)}))})]})},z=(0,l.memo)(q);t(6167);var N=(0,d.Z)("hr")({name:"Divider",class:"dixwx17"}),V=(0,d.Z)("div")({name:"Wrapper",class:"wzfou7k"}),W=(0,d.Z)("div")({name:"Username",class:"u1qme51q"}),F=(0,d.Z)("i")({name:"PhoneIcon",class:"p1n7hmeg"}),H=(0,d.Z)("div")({name:"PhoneNumber",class:"p1ikq4y4"}),P=(0,d.Z)("img")({name:"Avatar",class:"avbunth"}),_=function(e){var n=e.user,t=(0,o.aC)(),a=(0,l.useCallback)((function(){t.signOut().then((function(){u.j(p.Z.LogOut),console.log("signed out")}))}),[t]),r=(0,l.useMemo)((function(){var e;return null===n||void 0===n||null===(e=n.providerData[0])||void 0===e?void 0:e.providerId}),[null===n||void 0===n?void 0:n.providerData]),s=(0,l.useMemo)((function(){var e;return(null===n||void 0===n||null===(e=n.providerData[0])||void 0===e?void 0:e.photoURL)||(null===n||void 0===n?void 0:n.photoURL)}),[null===n||void 0===n?void 0:n.photoURL,null===n||void 0===n?void 0:n.providerData]);return(0,k.jsxs)(V,{children:["phone"===r?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(F,{className:"fa-solid fa-mobile-screen-button fa-beat"}),(0,k.jsx)(H,{children:n.providerData[0].phoneNumber})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(W,{children:n.displayName}),(0,k.jsx)(P,{className:"fa-beat",src:s,alt:"pfp"})]}),(0,k.jsx)("div",{children:(0,k.jsx)(v.Z,{onClick:a,children:"Logout"})}),(0,k.jsx)(N,{}),(0,k.jsx)(z,{user:n}),(0,k.jsx)(N,{})]})},B=(0,l.memo)(_);t(4888);var $=t(8923),G=function(){var e=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.j(p.Z.LogIn),t=new c.c4,e.next=4,(0,c.rh)(n,t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(){var e=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new c.lI("recaptcha-container",{callback:function(e){console.log({response:e}),(0,c.$g)(n,"+13176040325",t).then((function(e){console.log({confirmationResult:e}),e.confirm("123456").then((function(e){console.log({result:e})})).catch((function(e){console.log({error:e})}))})).catch((function(e){console.log({e:e})}))}},n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),K=function(){var e=(0,o.TS)(),n=e.status,t=e.data,a=(0,o.aC)(),s=(0,o.aF)().data;(0,l.useCallback)((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(a);case 2:case"end":return e.stop()}}),e)}))),[a]);return"loading"===n?(0,k.jsx)($.Z,{}):!0===t.signedIn?(0,k.jsx)(B,{user:s}):(0,k.jsxs)("div",{children:[(0,k.jsxs)(v.Z,{onClick:function(){return G(a)},children:["Login with Twitter\xa0",(0,k.jsx)("i",{className:"fa-brands fa-twitter"})]}),!1,(0,k.jsx)("div",{id:"recaptcha-container"})]})},Q=(0,l.memo)(K)},9081:function(e,n,t){t.r(n),n.default={}},6167:function(e,n,t){t.r(n),n.default={}},4888:function(e,n,t){t.r(n),n.default={}}}]);
//# sourceMappingURL=402.09e1b391.chunk.js.map