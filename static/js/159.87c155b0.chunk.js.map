{"version":3,"file":"static/js/159.87c155b0.chunk.js","mappings":"mOASMA,EAAU,CACfC,cAAc,EACdC,YAAY,EACZC,mBAAoB,EACpBC,UAAW,GACXC,KAAM,CACL,CACCC,KAAM,UACNC,OAAQ,IAET,CACCD,KAAM,cACNC,OAAQ,MAILC,GAAS,eAAAF,KAAAA,YAAAG,MAAAA,YAUTC,GAAS,eAAAJ,KAAAA,YAAAG,MAAAA,aAQTE,EAAS,WACd,OAAgBC,EAAAA,EAAAA,MAATC,GAAP,eACA,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA8BF,EAAAA,EAAAA,UAAS,IAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAAqCC,EAAAA,EAAAA,iBAArC,eAAOC,EAAP,KAAkBC,EAAlB,KAEMC,GAAOC,EAAAA,EAAAA,UAAQ,WACpB,OAAO,IAAIC,EAAAA,EAAKX,EAAMY,UAAWzB,KAC/B,CAACa,EAAMY,aAEVC,EAAAA,EAAAA,YAAU,WACT,GAAIX,EAAOY,QAAU,EAAG,CACvB,IAAMC,EAASN,EAAKP,OAAOA,EAAQ,CAAEc,MAAO,KAC5CR,GAAgB,kBAAMH,EAAWU,WACL,IAAlBb,EAAOY,QACjBT,EAAW,MAEV,CAACI,EAAMP,IAEV,IAAMe,GAAeC,EAAAA,EAAAA,cAAYC,SAAAA,GAChC,IAAMC,EAAQD,EAAEE,OAAOD,MACvBZ,GAAgB,kBAAML,EAAUiB,QAC9B,IAEH,OACC,UAACzB,EAAD,YACC,UAAC,KAAD,2BAEEY,IAAa,SAAC,IAAD,CAASe,QAAT,QAEf,SAAC,KAAD,WACC,SAAC,KAAD,CAAOC,SAAUN,EAAcO,KAAK,OAAOC,YAAY,wBAExD,SAAC5B,EAAD,UACEO,EAAQsB,KAAIC,SAAAA,GAAC,OACb,SAAC,IAAD,CAAeC,MAAOD,EAAEE,KAAsBC,WAA9C,GAAmCH,EAAEE,KAAKE,aAO/C,WAAeC,EAAAA,EAAAA,MAAKlC,G,qCCpFpB","sources":["pages/Search.js","webpack://celebration-calendar/./src/pages/Search.js?e4ab"],"sourcesContent":["import { memo, useCallback, useEffect, useMemo, useState, useTransition } from 'react'\nimport Fuse from 'fuse.js'\nimport { styled } from 'linaria/react'\n\nimport EventListItem from 'components/events/EventListItem'\nimport Loading from 'components/Loading'\nimport { Input, InputWrapper, PageTitle } from 'components/styles'\nimport { useEventContext } from 'context/EventContext'\n\nconst options = {\n\tincludeScore: true,\n\tshouldSort: true,\n\tminMatchCharLength: 3,\n\tthreshold: 0.6,\n\tkeys: [\n\t\t{\n\t\t\tname: 'summary',\n\t\t\tweight: 0.7,\n\t\t},\n\t\t{\n\t\t\tname: 'description',\n\t\t\tweight: 0.3,\n\t\t},\n\t],\n}\nconst Container = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\toverflow-x: hidden;\n\tbackground: var(--bg);\n\tborder-radius: 8px;\n\tflex-direction: column;\n\talign-items: center;\n`\nconst ScrollBox = styled.div`\n\twidth: 100%;\n\toverflow-y: scroll;\n\t::-webkit-scrollbar-corner {\n\t\tbackground: var(--transparent);\n\t}\n`\n\nconst Search = () => {\n\tconst [state] = useEventContext()\n\tconst [search, setSearch] = useState('')\n\tconst [results, setResults] = useState([])\n\tconst [isPending, startTransition] = useTransition()\n\n\tconst fuse = useMemo(() => {\n\t\treturn new Fuse(state.allEvents, options)\n\t}, [state.allEvents])\n\n\tuseEffect(() => {\n\t\tif (search.length >= 3) {\n\t\t\tconst output = fuse.search(search, { limit: 20 })\n\t\t\tstartTransition(() => setResults(output))\n\t\t} else if (search.length === 0) {\n\t\t\tsetResults([])\n\t\t}\n\t}, [fuse, search])\n\n\tconst handleChange = useCallback(e => {\n\t\tconst value = e.target.value\n\t\tstartTransition(() => setSearch(value))\n\t}, [])\n\n\treturn (\n\t\t<Container>\n\t\t\t<PageTitle>\n\t\t\t\tSearch Events\n\t\t\t\t{isPending && <Loading inline />}\n\t\t\t</PageTitle>\n\t\t\t<InputWrapper>\n\t\t\t\t<Input onChange={handleChange} type=\"text\" placeholder=\"Search panels...\" />\n\t\t\t</InputWrapper>\n\t\t\t<ScrollBox>\n\t\t\t\t{results.map(r => (\n\t\t\t\t\t<EventListItem event={r.item} key={r.item.id} forceOpen />\n\t\t\t\t))}\n\t\t\t</ScrollBox>\n\t\t</Container>\n\t)\n}\n\nexport default memo(Search)\n","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["options","includeScore","shouldSort","minMatchCharLength","threshold","keys","name","weight","Container","class","ScrollBox","Search","useEventContext","state","useState","search","setSearch","results","setResults","useTransition","isPending","startTransition","fuse","useMemo","Fuse","allEvents","useEffect","length","output","limit","handleChange","useCallback","e","value","target","inline","onChange","type","placeholder","map","r","event","item","forceOpen","id","memo"],"sourceRoot":""}