{"version":3,"file":"static/js/992.8a6a2b66.chunk.js","mappings":"sPAWMA,GAAW,eAAAC,KAAAA,cAAAC,MAAAA,YAQXC,GAAS,eAAAF,KAAAA,YAAAC,MAAAA,aAUTE,GAAS,eAAAH,KAAAA,YAAAC,MAAAA,aAQTG,EAAY,WACjB,OAAgBC,EAAAA,EAAAA,MAATC,GAAP,eACQC,GAAQC,EAAAA,EAAAA,MAARD,IACFE,GAAWC,EAAAA,EAAAA,MAGXC,GAAaC,EAAAA,EAAAA,UAAQ,WAC1B,IAAMC,GAAeC,EAAAA,EAAAA,IAAIL,EAAD,yBAA6BF,IAC/CQ,GAAiBC,EAAAA,EAAAA,IAAMH,GAAcI,EAAAA,EAAAA,OAC3C,OAAOD,EAAAA,EAAAA,IAAMD,GAAgBG,EAAAA,EAAAA,IAAQ,WACnC,CAACT,EAAUF,IAGRY,GAAgBC,EAAAA,EAAAA,IAAsBT,EAAY,IAGlDU,GAAgBT,EAAAA,EAAAA,UAAQ,WAC7B,MAA8B,aAAb,OAAbO,QAAa,IAAbA,OAAAA,EAAAA,EAAeG,SAAwB,OAACH,QAAD,IAACA,GAAAA,EAAeI,MACpDC,OAAOC,KAAPD,OAAYL,QAAZK,IAAYL,OAAZK,EAAYL,EAAeI,OADsC,KAEtE,QAACJ,QAAD,IAACA,OAAD,EAACA,EAAeI,KAAhB,OAAsBJ,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAeG,SAElCI,GAAed,EAAAA,EAAAA,UAAQ,WAC5B,QAASS,EAAcM,QAAoC,aAAb,OAAbR,QAAa,IAAbA,OAAAA,EAAAA,EAAeG,UAC9C,QAACH,QAAD,IAACA,OAAD,EAACA,EAAeG,OAAQD,EAAcM,SAEnCC,GAAYhB,EAAAA,EAAAA,UAAQ,WACzB,OAAI,OAACN,QAAD,IAACA,GAAAA,EAAOuB,UACLvB,EAAMuB,UAAUC,QAAOC,SAAAA,GAC7B,OAAOV,EAAcW,SAASD,EAAEE,OAFH,KAI5B,CAACZ,EAAef,EAAMuB,YAEzB,OACC,UAAC3B,EAAD,YACC,SAAC,KAAD,gCACA,UAACC,EAAD,WAC4B,aAAb,OAAbgB,QAAa,IAAbA,OAAAA,EAAAA,EAAeG,UAAwB,SAAC,IAAD,KACtCI,IAAgB,SAAC3B,EAAD,yCACjB6B,EAAUM,KAAIC,SAAAA,GAAK,OACnB,SAAC,IAAD,CAAeA,MAAOA,EAAsBC,WAA5C,GAAkCD,EAAMF,cAO7C,WAAeI,EAAAA,EAAAA,MAAKjC,G,qCClFpB","sources":["pages/FavoritesList.js","webpack://celebration-calendar/./src/pages/FavoritesList.js?3180"],"sourcesContent":["import { memo, useMemo } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useDatabase, useDatabaseObjectData } from 'reactfire'\nimport { equalTo, orderByValue, query, ref } from 'firebase/database'\nimport { styled } from 'linaria/react'\n\nimport EventListItem from 'components/events/EventListItem'\nimport Loading from 'components/Loading'\nimport { PageTitle } from 'components/styles'\nimport { useEventContext } from 'context/EventContext'\n\nconst NoFavorites = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tflex: 0;\n\tmargin-top: 16px;\n\tfont-weight: bold;\n`\nconst Container = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\toverflow-x: hidden;\n\tbackground: var(--bg);\n\tborder-radius: 8px;\n\tflex-direction: column;\n\talign-items: center;\n`\nconst ScrollBox = styled.div`\n\twidth: 100%;\n\toverflow-y: scroll;\n\t::-webkit-scrollbar-corner {\n\t\tbackground: var(--transparent);\n\t}\n`\n\nconst Favorites = () => {\n\tconst [state] = useEventContext()\n\tconst { uid } = useParams()\n\tconst database = useDatabase()\n\n\t// Shared Favorites Query\n\tconst sharedFavQ = useMemo(() => {\n\t\tconst sharedFavRef = ref(database, `user-favorites/${uid}`)\n\t\tconst sharedFavQuery = query(sharedFavRef, orderByValue())\n\t\treturn query(sharedFavQuery, equalTo('true'))\n\t}, [database, uid])\n\n\t// Shared Favorites Resp\n\tconst sharedFavResp = useDatabaseObjectData(sharedFavQ, {})\n\n\t// Shared Favorites\n\tconst sharedFaveIds = useMemo(() => {\n\t\tif (sharedFavResp?.status !== 'success' || !sharedFavResp?.data) return []\n\t\treturn Object.keys(sharedFavResp?.data) || []\n\t}, [sharedFavResp?.data, sharedFavResp?.status])\n\n\tconst hasFavorites = useMemo(() => {\n\t\treturn !!sharedFaveIds.length && sharedFavResp?.status === 'success'\n\t}, [sharedFavResp?.status, sharedFaveIds.length])\n\n\tconst favorites = useMemo(() => {\n\t\tif (!state?.allEvents) return []\n\t\treturn state.allEvents.filter(e => {\n\t\t\treturn sharedFaveIds.includes(e.id)\n\t\t})\n\t}, [sharedFaveIds, state.allEvents])\n\n\treturn (\n\t\t<Container>\n\t\t\t<PageTitle>Shared Favorites</PageTitle>\n\t\t\t<ScrollBox>\n\t\t\t\t{sharedFavResp?.status !== 'success' && <Loading />}\n\t\t\t\t{!hasFavorites && <NoFavorites>No favorites to display...</NoFavorites>}\n\t\t\t\t{favorites.map(event => (\n\t\t\t\t\t<EventListItem event={event} key={event.id} forceOpen />\n\t\t\t\t))}\n\t\t\t</ScrollBox>\n\t\t</Container>\n\t)\n}\n\nexport default memo(Favorites)\n","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["NoFavorites","name","class","Container","ScrollBox","Favorites","useEventContext","state","uid","useParams","database","useDatabase","sharedFavQ","useMemo","sharedFavRef","ref","sharedFavQuery","query","orderByValue","equalTo","sharedFavResp","useDatabaseObjectData","sharedFaveIds","status","data","Object","keys","hasFavorites","length","favorites","allEvents","filter","e","includes","id","map","event","forceOpen","memo"],"sourceRoot":""}