{"version":3,"file":"static/js/843.832f6be1.chunk.js","mappings":"sLAIMA,GAAO,eAAAC,KAAAA,UAAAC,MAAAA,aAKPC,GAAY,OAAUC,EAAAA,GAAV,EAAAH,KAAAA,eAAAC,MAAAA,YA0BZG,EAASC,SAAAA,GACd,IAAMC,IAAWD,EAAME,MAAQF,EAAMG,KAC/BC,EAA0B,WAAfJ,EAAMK,KAEjBC,EAAKL,EAASH,EAAAA,GAAOM,EAAW,SAAW,MACjD,OACC,SAACV,EAAD,CAASa,QAAS,aAAlB,UACC,SAACV,GAAD,QAAcS,GAAIA,GAAQN,OAK7B,KAAeQ,EAAAA,EAAAA,MAAKT,G,yIChCdU,GAAG,eAAAd,KAAAA,MAAAC,MAAAA,YAQHc,GAAI,OAAUZ,EAAAA,GAAV,EAAAH,KAAAA,OAAAC,MAAAA,aAgBJe,EAAO,WAIZ,OAAwBC,EAAAA,EAAAA,MAAfC,GAAT,eAASA,UAEHC,GAAWC,EAAAA,EAAAA,MAoCXC,GAAYC,EAAAA,EAAAA,IAAIH,EAAD,kBACfI,GAAaC,EAAAA,EAAAA,IAAoBH,EAAW,CACjDI,QAAS,OAGJC,GAAWC,EAAAA,EAAAA,UAAQ,WACxB,MAA2B,aAAb,OAAVJ,QAAU,IAAVA,OAAAA,EAAAA,EAAYK,SAAwB,OAACL,QAAD,IAACA,GAAAA,EAAYM,KAC9CN,EAAWM,KAAKC,QAAO,SAACjB,EAAMkB,GAOpC,OALAC,OAAOC,KAAKF,GAAMG,SAAQC,SAAAA,GACC,MAAR,SAAdJ,EAAKI,KACRtB,EAAKsB,GAAOC,OAAM,UAACvB,EAAKsB,UAAN,QAAc,MAAQ,MAGnCtB,IACL,IAT+D,KAUhE,QAACU,QAAD,IAACA,OAAD,EAACA,EAAYM,KAAb,OAAmBN,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAYK,SAK5BS,GAAMC,EAAAA,EAAAA,cAAY,WAEvB,MADAC,QAAQF,IAAI,kBAAmBd,GACzB,IAAIiB,MAAM,UACd,CAACjB,IAEJ,OACC,UAAC,KAAD,WACES,OAAOC,KAAKP,GAAUe,KAAIC,SAAAA,GAAK,MACzBC,EAAK,UAAGjB,EAASgB,UAAZ,QAAkB,EAC7B,OACC,SAAC5B,EAAD,WACC,SAACC,EAAD,CAAMR,GAAA,iBAAcmC,GAApB,mBAA6BC,EAA7B,eAAyCD,EAAzC,oBAA+CxB,QAA/C,IAA+CA,OAA/C,EAA+CA,EAAW0B,MAAKC,SAAAA,GAAC,OAAIA,EAAEC,KAAOJ,KAAGK,YADvEL,OA4BZ,SAAC,IAAD,CAAQ9B,QAASyB,EAAjB,2BASH,WAAexB,EAAAA,EAAAA,MAAKG,G,qCCpJpB,c,4BCAA","sources":["components/Button.js","pages/Temp.js","webpack://celebration-calendar/./src/components/Button.js?ee67","webpack://celebration-calendar/./src/pages/Temp.js?3893"],"sourcesContent":["import { memo } from 'react'\nimport { Link } from 'react-router-dom'\nimport { styled } from 'linaria/react'\n\nconst Wrapper = styled.div`\n\tdisplay: flex;\n\tjustify-content: center;\n`\n\nconst StyledButton = styled(Link)`\n\tcolor: var(--inputBg);\n\tbackground: var(--linkActive);\n\tborder: 2px solid var(--inputBorder);\n\tfont-weight: 700;\n\tborder-radius: 8px;\n\ttext-align: center;\n\tdisplay: inline-block;\n\n\t&:hover {\n\t\tcolor: var(--inputBg);\n\t\tbackground: var(--linkHover);\n\t}\n\ttext-decoration: none;\n\tcursor: pointer;\n\n\tmargin: 8px;\n\tfont-size: 20px;\n\tpadding: 8px 16px;\n\tmin-width: 175px;\n\n\t&:disabled {\n\t\tbackground: green !important;\n\t}\n`\n\nconst Button = props => {\n\tconst isLink = !!props.to || !!props.href\n\tconst isButton = props.type === 'submit'\n\n\tconst as = isLink ? Link : isButton ? 'button' : 'div'\n\treturn (\n\t\t<Wrapper onClick={() => {}}>\n\t\t\t<StyledButton as={as} {...props} />\n\t\t</Wrapper>\n\t)\n}\n\nexport default memo(Button)\n","// import { memo, useCallback, useMemo, useState } from 'react'\n// import { Link } from 'react-router-dom'\n// import { useDatabase, useDatabaseListData, useDatabaseObjectData, useUser } from 'reactfire'\n// import { equalTo, orderByValue, query, ref, set } from 'firebase/database'\n// import { styled } from 'linaria/react'\nimport { memo, useCallback, useMemo } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useDatabase, useDatabaseListData } from 'reactfire'\nimport { ref } from 'firebase/database'\nimport { styled } from 'linaria/react'\n\nimport Button from 'components/Button'\nimport { NonScrollWrapper } from 'components/styles'\nimport { useEventContext } from 'context/EventContext'\n\nconst Row = styled.div`\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\tfont-size: 18px;\n\tfont-weight: bold;\n\tpadding: 6px;\n`\nconst Lunk = styled(Link)`\n\tcolor: var(--link);\n\ttext-decoration: none;\n\t&:hover {\n\t\tcolor: var(--linkHover);\n\t}\n`\n\n// const Divider = styled.hr`\n// \twidth: 100%;\n// \tborder-color: red;\n// `\n\n// const events = ['event1', 'event2', 'event3', 'event4', 'event5']\n// const users = ['user1', 'user2', 'user3', 'user4']\n\nconst Temp = () => {\n\t// const { data: user } = useUser()\n\n\t// const [user, setUser] = useState(users[0])\n\tconst [{ allEvents }] = useEventContext()\n\n\tconst database = useDatabase()\n\n\t// ============================================================\n\n\t// User Favorites Query\n\t// const userFavQ = useMemo(() => {\n\t// \tconst userFavRef = ref(database, `user-favorites/${user?.uid}`)\n\t// \tconst userFavQuery = query(userFavRef, orderByValue())\n\t// \treturn query(userFavQuery, equalTo('true'))\n\t// }, [database, user])\n\n\t// User Favorites Resp\n\t// const userFavResp = useDatabaseObjectData(userFavQ, {})\n\n\t// User Favorite\n\t// const userFaves = useMemo(() => {\n\t// \tif (userFavResp?.status !== 'success' || !userFavResp?.data) return []\n\t// \treturn Object.keys(userFavResp?.data) || []\n\t// }, [userFavResp?.data, userFavResp?.status])\n\n\t// ============================================================\n\n\t// Add/Remove User Favorite\n\t// const toggleFavorite = useCallback(\n\t// \t(id, newState) => {\n\t// \t\tconst userFavRef = ref(database, `user-favorites/${user?.uid}/${id}`)\n\t// \t\t// set(userFavRef, `${newState}`)\n\t// \t\tset(userFavRef, newState ? 'true' : null)\n\t// \t\t// console.log('SET', { id, newState })\n\t// \t},\n\t// \t[database, user]\n\t// )\n\n\t// ============================================================\n\n\t// All Favorites Resp\n\tconst allFavRef = ref(database, `user-favorites`)\n\tconst allFavResp = useDatabaseListData(allFavRef, {\n\t\tidField: 'id',\n\t})\n\t// All Favorites Count\n\tconst allFaves = useMemo(() => {\n\t\tif (allFavResp?.status !== 'success' || !allFavResp?.data) return []\n\t\treturn allFavResp.data.reduce((memo, user) => {\n\t\t\t// console.log('USER', { user })\n\t\t\tObject.keys(user).forEach(key => {\n\t\t\t\tif (user[key] === 'true') {\n\t\t\t\t\tmemo[key] = Number(memo[key] ?? null) + 1\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn memo\n\t\t}, {})\n\t}, [allFavResp?.data, allFavResp?.status])\n\n\t// ============================================================\n\n\t// HELPERS\n\tconst log = useCallback(() => {\n\t\tconsole.log('allFavResp.data', allFavResp)\n\t\tthrow new Error('test')\n\t}, [allFavResp])\n\n\treturn (\n\t\t<NonScrollWrapper>\n\t\t\t{Object.keys(allFaves).map(e => {\n\t\t\t\tconst count = allFaves[e] ?? 0\n\t\t\t\treturn (\n\t\t\t\t\t<Row key={e}>\n\t\t\t\t\t\t<Lunk to={`/event/${e}`}>{`${count} - [${e}] ${allEvents?.find(x => x.id === e).summary}`}</Lunk>\n\t\t\t\t\t</Row>\n\t\t\t\t)\n\t\t\t})}\n\t\t\t{/*  */}\n\t\t\t{/* <Row>\n\t\t\t\t{users.map(u => (\n\t\t\t\t\t<Button key={u} onClick={() => setUser(u)}>\n\t\t\t\t\t\t{u === user && '### '}\n\t\t\t\t\t\t{u}\n\t\t\t\t\t\t{u === user && ' ###'}\n\t\t\t\t\t</Button>\n\t\t\t\t))}\n\t\t\t</Row> */}\n\t\t\t{/*  */}\n\t\t\t{/* <Divider /> */}\n\t\t\t{/*  */}\n\t\t\t{/* <Row>\n\t\t\t\t{Object.keys(allFaves).map(e => {\n\t\t\t\t\tconst isFavorited = userFaves.includes(e)\n\t\t\t\t\tconst count = allFaves[e] ?? 0\n\t\t\t\t\treturn <Button key={e}>{`${e} (${count})`}</Button>\n\t\t\t\t})}\n\t\t\t</Row> */}\n\t\t\t{/*  */}\n\t\t\t{/* <Divider /> */}\n\t\t\t{/*  */}\n\t\t\t<Button onClick={log}>Print Log</Button>\n\t\t\t{/* <div> */}\n\t\t\t{/* <pre>{JSON.stringify(allFavResp.data, null, 2)}</pre> */}\n\t\t\t{/* <pre>{JSON.stringify(allFaves, null, 2)}</pre> */}\n\t\t\t{/* </div> */}\n\t\t</NonScrollWrapper>\n\t)\n}\n\nexport default memo(Temp)\n\n/*\nDUMP\n\n\t// Basic User Favorite Query\n\tconst userFavRef = ref(database, `temp-favorites/user1`)\n\t// const userFavQuery = query(userFavRef)\n\t// const userFavQuery = query(userFavRef, Fire.orderByValue())\n\tconst userFavResp = useDatabaseObjectData(userFavRef, {\n\t\t// idField: 'id',\n\t})\n\t// const userFavResp = useDatabaseListData(userFavQuery, {\n\t// \tidField: 'id',\n\t// })\n\n*/\n\n/*\n\n  // Get a key for a new Post.\n  const newPostKey = push(child(ref(db), 'posts')).key;\n\n  // Write the new post's data simultaneously in the posts list and the user's post list.\n  const updates = {};\n  updates['/posts/' + newPostKey] = postData;\n  updates['/user-posts/' + uid + '/' + newPostKey] = postData;\n\n  return update(ref(db), updates);\n\n\t*/\n\n/*\n\tfunction toggleStar(uid) {\n  const db = getDatabase();\n  const postRef = ref(db, '/posts/foo-bar-123');\n\n  runTransaction(postRef, (post) => {\n    if (post) {\n      if (post.stars && post.stars[uid]) {\n        post.starCount--;\n        post.stars[uid] = null;\n      } else {\n        post.starCount++;\n        if (!post.stars) {\n          post.stars = {};\n        }\n        post.stars[uid] = true;\n      }\n    }\n    return post;\n  });\n}\n*/\n","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["Wrapper","name","class","StyledButton","Link","Button","props","isLink","to","href","isButton","type","as","onClick","memo","Row","Lunk","Temp","useEventContext","allEvents","database","useDatabase","allFavRef","ref","allFavResp","useDatabaseListData","idField","allFaves","useMemo","status","data","reduce","user","Object","keys","forEach","key","Number","log","useCallback","console","Error","map","e","count","find","x","id","summary"],"sourceRoot":""}