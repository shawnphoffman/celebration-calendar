"use strict";(self.webpackChunkcelebration_calendar=self.webpackChunkcelebration_calendar||[]).push([[498],{3632:function(n,e,t){t.r(e),t.d(e,{default:function(){return E}});var a=t(2982),s=t(885),r=t(2791),u=t(3504),i=t(1084),o=t(408),c=t(5248),l=t(6871),d=t(6661),v=t(6998),f=t.n(v),m=t(7158),h=t(1321),p=t(184),Z=(0,c.Z)("div")({name:"Button",class:"bz25nzr",vars:{"bz25nzr-0":[function(n){return n.copied?"var(--green)":"var(--linkAlt)"}],"bz25nzr-1":[function(n){return n.copied?"var(--green)":"var(--linkHover)"}]}}),j=function(){var n=(0,r.useState)(!1),e=(0,s.Z)(n,2),t=e[0],a=e[1],u=(0,i.TS)(),o=u.status,c=u.data,v=(0,i.aF)().data,j=(0,r.useMemo)((function(){return v?v.uid:null}),[v]),D=(0,r.useMemo)((function(){return j?"".concat(window.location.origin,"/#").concat((0,l.Gn)(m.ZP.FavoritesList.path,{uid:j})):null}),[j]),w=(0,r.useCallback)((function(n){n.stopPropagation(),f()(D),a(!0),d.j(h.Z.FavoritesLinkCopied)}),[D]);return(0,r.useEffect)((function(){var n=function(){};return t&&(n=setTimeout((function(){a(!1)}),3e3)),function(){return n}}),[t]),"success"===o&&null!==c&&void 0!==c&&c.signedIn&&j?(0,p.jsx)(Z,{copied:t,onClickCapture:w,title:"Copy Link to Share",children:t?(0,p.jsx)("i",{className:"fa-light fa-clipboard-check fa-beat-fade"}):(0,p.jsx)("i",{className:"fa-light fa-clipboard"})},"link-".concat(j,"-").concat(t)):null},D=(0,r.memo)(j);t(2848);var w=t(4490),x=t(9907),b=t(712),g=t(3903),k=(0,c.Z)("hr")({name:"Divider",class:"d1an2iv0"}),y=(0,c.Z)("div")({name:"NoFavorites",class:"nad46bx"}),M=(0,c.Z)("div")({name:"Container",class:"c1opcxo9"}),z=(0,c.Z)("div")({name:"ScrollBox",class:"s1vykdh2"}),C=(0,c.Z)("div")({name:"LoginPrompt",class:"l1fjwesz"}),F=(0,c.Z)(u.OL)({name:"Link",class:"l1o0s8ml"}),L=function(){var n=(0,b.ZQ)(),e=(0,s.Z)(n,1)[0],t=(0,g.Q)().favorites,u=(0,i.TS)(),c=u.status,l=u.data,d=(0,i.Wz)(),v=(0,i.aF)().data,f=(0,r.useMemo)((function(){return!!t.length}),[t]),h=(0,r.useMemo)((function(){return"success"===c&&!(null!==l&&void 0!==l&&l.signedIn)}),[c,l]),Z=(0,r.useMemo)((function(){return v?(0,o.iH)(d,"user-events/".concat(null===v||void 0===v?void 0:v.uid)):(0,o.iH)(d,"wow")}),[d,v]),j=(0,i.gN)(Z,{}),L=(0,r.useMemo)((function(){return"success"===(null===j||void 0===j?void 0:j.status)&&null!==j&&void 0!==j&&j.data&&null!==j&&void 0!==j&&j.data?Object.values(j.data).sort((function(n,e){var t=new Date(n.startDate),a=new Date(e.startDate),s=new Date(n.endDate),r=new Date(e.endDate);return t>a?1:t<a?-1:s>r?1:s<r?-1:n.summary>e.summary?1:n.summary<e.summary?-1:0})):[]}),[null===j||void 0===j?void 0:j.data,null===j||void 0===j?void 0:j.status]),E=(0,r.useMemo)((function(){return(0,o.iH)(d,"custom-events")}),[d]),N=(0,i.gN)(E,{}),O=(0,r.useMemo)((function(){return e&&e.allEvents&&"success"===(null===N||void 0===N?void 0:N.status)&&null!==N&&void 0!==N&&N.data?Object.keys(N.data).reduce((function(n,e){return n=[].concat((0,a.Z)(n),(0,a.Z)(Object.values(N.data[e])))}),[]):[]}),[N.data,null===N||void 0===N?void 0:N.status,e]),S=(0,r.useMemo)((function(){if(null===e||void 0===e||!e.allEvents)return[];var n=e.allEvents.filter((function(n){return t.includes(n.id)})),s=O.filter((function(n){return t.includes(n.id)}));return[].concat((0,a.Z)(n),(0,a.Z)(L),(0,a.Z)(s)).sort((function(n,e){var t=new Date(n.startDate),a=new Date(e.startDate),s=new Date(n.endDate),r=new Date(e.endDate);return t>a?1:t<a?-1:s>r?1:s<r?-1:n.summary>e.summary?1:n.summary<e.summary?-1:0}))}),[O,t,e.allEvents,L]);return(0,p.jsxs)(M,{children:[(0,p.jsxs)(x.V1,{children:["Your Favorited Events ",(0,p.jsx)(D,{})]}),h&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(C,{children:["If you ",(0,p.jsx)(F,{to:m.ZP.Login.path,children:"log in"}),", we'll save your favorites across your devices!"]})}),(0,p.jsxs)(z,{children:[!f&&!L&&(0,p.jsx)(y,{children:"No favorites to display..."}),f&&L&&(0,p.jsx)(k,{}),S.map((function(n){return(0,p.jsx)(w.Z,{event:n,forceOpen:!0},n.id)}))]})]})},E=(0,r.memo)(L);t(619)},2848:function(n,e,t){t.r(e),e.default={}},619:function(n,e,t){t.r(e),e.default={}}}]);
//# sourceMappingURL=498.ff30223e.chunk.js.map